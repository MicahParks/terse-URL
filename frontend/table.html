<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Terse URL</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"
          integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w=="
          crossorigin="anonymous"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
            crossorigin="anonymous"></script>
</head>
<body>
<table id="terseTable" class="table table-striped">
    <thead>
    <tr>
        <th scope="col">Shortened URL</th>
        <th scope="col">Original URL</th>
        <th scope="col">Redirect Type</th>
        <th scope="col">Visit Count</th>
        <th scope="col">Actions</th>
    </tr>
    </thead>
    <tbody id="terseTableBody">
    <tr id="templateTerseRow">
        <td title="bob"></td>
        <td></td>
        <td></td>
        <td></td>
        <td>
            <button type="button" class="btn btn-primary" onclick="">
                <i class="far fa-edit"></i>
            </button>
            <button type="button" class="btn btn-secondary" onclick="">
                <i class="fas fa-download"></i>
            </button> <!--TODO Make this a modal where they can choose what kind of data to export?-->
            <button type="button" class="btn btn-danger" onclick="">
                <i class="fas fa-trash"></i>
            </button>
        </td>
    </tr>
    </tbody>
</table>
<script src="data.js"></script>
<script src="delete.js"></script>
<script src="export.js"></script>
<script src="form.js"></script>
<script src="prefix.js"></script>
<script src="summary.js"></script>
<script src="table.js"></script>
<script src="write.js"></script>
<script>

    let originalTemplate = document.getElementById("templateTerseRow");
    let template = originalTemplate.cloneNode(true);
    let table = document.getElementById("terseTableBody");
    // table.removeChild(originalTemplate);
    template.id = "summaryData";

    function buildTable() {
        let index = 0;
        let summaries = summaryAll(null);
        for (let summary of summaries) {

            let row = template.cloneNode(true);
            row.id = template.id + index;
            index++;

            row.cells[0].innerHTML = summary.shortenedURL;
            row.cells[1].innerHTML = summary.originalURL;
            row.cells[2].innerHTML = summary.redirectType;
            row.cells[3].innerHTML = summary.visitCount;

            table.appendChild(template);

            // table.rows[index].cells[0].innerHTML = summary.shortenedURL;
            // table.rows[index].cells[1].innerHTML = summary.originalURL;
            // table.rows[index].cells[2].innerHTML = summary.redirectType;
            // table.rows[index].cells[3].innerHTML = summary.visitCount;
        }
    }
</script>
</body>
</html>
